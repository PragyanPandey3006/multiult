#!/usr/bin/env bash
# Ultroid - UserBot
# Copyright (C) 2021-2023 TeamUltroid
# Multi-Instance support added by @pragyan
#
# This file is a part of < https://github.com/TeamUltroid/Ultroid/ >
# PLease read the GNU Affero General Public License in <https://www.github.com/TeamUltroid/Ultroid/blob/main/LICENSE/>.

echo "
            ┏┳┓╋┏┓╋╋╋╋┏┓┏┓
            ┃┃┣┓┃┗┳┳┳━╋╋┛┃
            ┃┃┃┗┫┏┫┏┫╋┃┃╋┃
            ┗━┻━┻━┻┛┗━┻┻━┛

      Visit @TheUltroid for updates!!
      Multi-Instance by @pragyan
"

# Load environment variables
if [ -f .env ] ; then  
    set -o allexport
    source .env
    set +o allexport
fi

# Check if multi-instance deployment is requested
if [ "$SESSION1" ] || [ "$API_ID1" ] ; then
    echo "🚀 Multi-Instance deployment detected!"
    echo "Starting all instances..."
    python3 multi_startup.py
else
    echo "🚀 Single instance deployment"
    # Original single instance logic
    python3 -m pyUltroid
fi
